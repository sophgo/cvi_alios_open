
#include <drv/tick.h>
#include <mmio.h>


void sensor_pinmux_init(void)
{
#if CONFIG_SENSOR_GCORE_GC2093
	mmio_write_32(0x03001170, 0x3); // PINMUX_CONFIG(PAD_MIPIRX4P, XGPIOC_3);
	mmio_write_32(0x0300116C, 0x3); // PINMUX_CONFIG(PAD_MIPIRX4N, XGPIOC_2);
	mmio_write_32(0x030011B0, 0x4); // PINMUX_CONFIG(PAD_MIPI_TXP1, IIC2_SCL);
	mmio_write_32(0x030011AC, 0x4); // PINMUX_CONFIG(PAD_MIPI_TXM1, IIC2_SDA);
	mmio_write_32(0x030011B8, 0x3); // PINMUX_CONFIG(PAD_MIPI_TXP0, XGPIOC_13);
	mmio_write_32(0x030011B4, 0x4); // PINMUX_CONFIG(PAD_MIPI_TXM0, CAM_MCLK1);

	// _cif_reset_snsr_gpio 1
	mmio_write_32(0x03022004, 0x2000);
	mmio_write_32(0x03022000, 0x0);
	udelay(100);
	// _cif_reset_snsr_gpio 0
	mmio_write_32(0x03022004, 0x2000);
	mmio_write_32(0x03022000, 0x2000);
	udelay(100);
#endif

#if CONFIG_SENSOR_SMS_SC201CS_MULTI && CONFIG_SENSOR_SMS_SC201CS
	mmio_write_32(0x030011b8, 0x4);//	PINMUX_CONFIG(PAD_MIPITXP0, CAM_MCLK0);
	mmio_write_32(0x030011a8, 0x3);//	PINMUX_CONFIG(PAD_MIPI_TXP2, XGPIOC_17); // PWDN

	mmio_write_32(0x03001180, 0x5);//	PINMUX_CONFIG(PAD_MIPIRX2P, IIC4_SDA);
	mmio_write_32(0x0300117c, 0x5);//	PINMUX_CONFIG(PAD_MIPIRX2N, IIC4_SCL);


	mmio_write_32(0x030011a4, 0x3);//	PINMUX_CONFIG(PAD_MIPI_TXM2, XGPIOC_16); // PWDN
	mmio_write_32(0x030011b4, 0x4);//	PINMUX_CONFIG(PAD_MIPI_TXM0, CAM_MCLK1);
	mmio_write_32(0x030011ac, 0x4);//	PINMUX_CONFIG(PAD_MIPI_TXM1, IIC2_SDA);
	mmio_write_32(0x030011b0, 0x4);//	PINMUX_CONFIG(PAD_MIPI_TXP1, IIC2_SCL);

	mmio_write_32(0x03022004, 0x30000);
	mmio_write_32(0x03022000, 0x30000);

	mmio_write_32(0x03001064, 0x3);//	PINMUX_CONFIG(JTAG_CPU_TMS, XGPIOA_19);
#endif

#if (CONFIG_SENSOR_SMS_SC201CS_MULTI == 0) && (CONFIG_SENSOR_SMS_SC201CS)
	mmio_write_32(0x03001184, 0x3); // PINMUX_CONFIG(PAD_MIPIRX1N, XGPIOC_8);
	mmio_write_32(0x03001180, 0x3); // PINMUX_CONFIG(PAD_MIPIRX2P, XGPIOC_7);

	mmio_write_32(0x03022004, 0x180);
	mmio_write_32(0x03022000, 0x180);

	mmio_write_32(0x03001188, 0x4);//	PINMUX_CONFIG(PAD_MIPIRX1P, IIC1_SDA);
	mmio_write_32(0x0300118c, 0x4);//	PINMUX_CONFIG(PAD_MIPIRX0N, IIC1_SCL);
	mmio_write_32(0x03001190, 0x4);//	PINMUX_CONFIG(PAD_MIPIRX0P, CAM_MCLK0);
#endif
}
